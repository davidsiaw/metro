[camera, scene, renderer, mesh, controls] = [null, null, null, null, null]
init = ->
  camera = new THREE.PerspectiveCamera(40, window.innerWidth / window.innerHeight, 1, 10000)
  camera.position.set(200, -1000, 1000)
  controls = new THREE.OrbitControls(camera)
  controls.target = new THREE.Vector3(40, -300, 0)
  controls.addEventListener('change', render)
  scene = new THREE.Scene()
  scene.add camera
  path = new THREE.SplineCurve3([
    new THREE.Vector3(315, -219, 28)
    new THREE.Vector3(274, -224, 74)
    new THREE.Vector3(225, -216, 57)
    new THREE.Vector3(192, -214, 65)
    new THREE.Vector3(166, -237, 63)
    new THREE.Vector3(159, -265, 77)
    new THREE.Vector3(154, -322, 19)
    new THREE.Vector3(171, -361, 19)
    new THREE.Vector3(170, -391, 17)
    new THREE.Vector3(150, -422, 18)
    new THREE.Vector3(113, -451, 16)
    new THREE.Vector3(80, -479, 14)
    new THREE.Vector3(28, -462, 27)
    new THREE.Vector3(-22, -441, 38)
    new THREE.Vector3(-49, -421, 37)
    new THREE.Vector3(-126, -447, 128)
    new THREE.Vector3(-164, -460, 128)
    new THREE.Vector3(-197, -492, 134)
    new THREE.Vector3(-265, -529, 61)
  ])
  tubeGeo = new THREE.TubeGeometry(path, 96, 3, 12, false, false)
  mesh = new THREE.Mesh(tubeGeo, new THREE.MeshLambertMaterial(emissive: 0xf39700))
  scene.add mesh
  path = new THREE.SplineCurve3([
    new THREE.Vector3(-204, -102, 132)
    new THREE.Vector3(-91, -129, 103)
    new THREE.Vector3(-48, -181, 110)
    new THREE.Vector3(40, -236, 30)
    new THREE.Vector3(89, -243, 90)
    new THREE.Vector3(113, -279, 64)
    new THREE.Vector3(135, -311, 20)
    new THREE.Vector3(126, -364, 13)
    new THREE.Vector3(117, -393, 13)
    new THREE.Vector3(113, -451, 16)
    new THREE.Vector3(34, -440, 30)
    new THREE.Vector3(0, -440, 101)
    new THREE.Vector3(-49, -421, 37)
    new THREE.Vector3(-91, -376, 90)
    new THREE.Vector3(-150, -355, 141)
    new THREE.Vector3(-207, -352, 137)
    new THREE.Vector3(-242, -338, 148)
    new THREE.Vector3(-267, -329, 147)
    new THREE.Vector3(-314, -317, 151)
    new THREE.Vector3(-373, -296, 135)
    new THREE.Vector3(-457, -298, 151)
    new THREE.Vector3(-524, -296, 161)
    new THREE.Vector3(-583, -295, 174)
    new THREE.Vector3(-656, -285, 200)
    new THREE.Vector3(-750, -257, 238)
  ])
  tubeGeo = new THREE.TubeGeometry(path, 96, 3, 12, false, false)
  mesh = new THREE.Mesh(tubeGeo, new THREE.MeshLambertMaterial(emissive: 0xe60012))
  scene.add mesh
  path = new THREE.SplineCurve3([
    new THREE.Vector3(-373,-296 ,135 )
    new THREE.Vector3(-427, -330, 115)
    new THREE.Vector3(-469, -340, 124)
    new THREE.Vector3(-532, -382, 189)
  ])
  tubeGeo = new THREE.TubeGeometry(path, 96, 3, 12, false, false)
  mesh = new THREE.Mesh(tubeGeo, new THREE.MeshLambertMaterial(emissive: 0xe60012))
  scene.add mesh
  path = new THREE.SplineCurve3([
    new THREE.Vector3(355, 10, 34)
    new THREE.Vector3(325, -83, 20)
    new THREE.Vector3(278, -105, 55)
    new THREE.Vector3(233, -164, 44)
    new THREE.Vector3(192, -214, 65)
    new THREE.Vector3(186, -243, 77)
    new THREE.Vector3(182, -294, 78)
    new THREE.Vector3(200, -339, 21)
    new THREE.Vector3(223, -365, 15)
    new THREE.Vector3(209, -405, 11)
    new THREE.Vector3(191, -434, 11)
    new THREE.Vector3(165, -474, 8)
    new THREE.Vector3(133, -466, 12)
    new THREE.Vector3(113, -451, 16)
    new THREE.Vector3(90, -436, 10)
    new THREE.Vector3(34, -440, 30)
    new THREE.Vector3(-1, -505, 36)
    new THREE.Vector3(-82, -506, 124)
    new THREE.Vector3(-138, -569, 43)
    new THREE.Vector3(-217, -599, 60)
    new THREE.Vector3(-279, -620, 38)
  ])
  tubeGeo = new THREE.TubeGeometry(path, 96, 3, 12, false, false)
  mesh = new THREE.Mesh(tubeGeo, new THREE.MeshLambertMaterial(emissive: 0x9caeb7))
  scene.add mesh
  path = new THREE.SplineCurve3([
    new THREE.Vector3(-476, -249, 145)
    new THREE.Vector3(-347, -217, 125)
    new THREE.Vector3(-242, -203, 66)
    new THREE.Vector3(-143, -249, 61)
    new THREE.Vector3(-64, -260, 102)
    new THREE.Vector3(5, -273, 19)
    new THREE.Vector3(41, -310, 20)
    new THREE.Vector3(70, -339, 20)
    new THREE.Vector3(126, -374, 13)
    new THREE.Vector3(170, -391, 17)
    new THREE.Vector3(209, -405, 11)
    new THREE.Vector3(306, -452, 3)
    new THREE.Vector3(371, -467, 41)
    new THREE.Vector3(435, -465, 58)
    new THREE.Vector3(513, -470, 20)
    new THREE.Vector3(685, -495, 0)
    new THREE.Vector3(764, -502, 1)
    new THREE.Vector3(888, -488, 3)
    new THREE.Vector3(943, -447, 5)
    new THREE.Vector3(1015, -387, 10)
    new THREE.Vector3(1074, -338, 5)
    new THREE.Vector3(1181, -262, 6)
    new THREE.Vector3(1283, -240, 10)
  ])
  tubeGeo = new THREE.TubeGeometry(path, 96, 3, 12, false, false)
  mesh = new THREE.Mesh(tubeGeo, new THREE.MeshLambertMaterial(emissive: 0x00a7db))
  scene.add mesh
  path = new THREE.SplineCurve3([
    new THREE.Vector3(521, 180, 18)
    new THREE.Vector3(479, 90, 48)
    new THREE.Vector3(355, 10, 34)
    new THREE.Vector3(212, -27, 43)
    new THREE.Vector3(128, -90, 57)
    new THREE.Vector3(109, -130, 68)
    new THREE.Vector3(123, -179, 60)
    new THREE.Vector3(149, -234, 64)
    new THREE.Vector3(125, -295, 63)
    new THREE.Vector3(109, -366, 15)
    new THREE.Vector3(101, -397, 11)
    new THREE.Vector3(81, -438, 8)
    new THREE.Vector3(34, -440, 30)
    new THREE.Vector3(0, -440, 101)
    new THREE.Vector3(-41, -444, 35)
    new THREE.Vector3(-114, -484, 125)
    new THREE.Vector3(-197, -492, 134)
    new THREE.Vector3(-247, -469, 111)
    new THREE.Vector3(-336, -468, 86)
    new THREE.Vector3(-390, -468, 118)
  ])
  tubeGeo = new THREE.TubeGeometry(path, 96, 3, 12, false, false)
  mesh = new THREE.Mesh(tubeGeo, new THREE.MeshLambertMaterial(emissive: 0x009944))
  scene.add mesh
  path = new THREE.SplineCurve3([
    new THREE.Vector3(-796, 248, 141)
    new THREE.Vector3(-682, 176, 166)
    new THREE.Vector3(-607, 136, 164)
    new THREE.Vector3(-548, 64, 158)
    new THREE.Vector3(-478, 14, 129)
    new THREE.Vector3(-399, -20, 146)
    new THREE.Vector3(-335, -54, 147)
    new THREE.Vector3(-279, -84, 117)
    new THREE.Vector3(-210, -106, 132)
    new THREE.Vector3(-154, -129, 112)
    new THREE.Vector3(-106, -169, 53)
    new THREE.Vector3(-70, -226, 22)
    new THREE.Vector3(-9, -272, 18)
    new THREE.Vector3(-52, -331, 47)
    new THREE.Vector3(-45, -379, 124)
    new THREE.Vector3(-29, -411, 119)
    new THREE.Vector3(38, -419, 32)
    new THREE.Vector3(109, -429, 11)
    new THREE.Vector3(131, -437, 13)
    new THREE.Vector3(171, -460, 0)
    new THREE.Vector3(234, -494, 8)
    new THREE.Vector3(306, -554, 8)
    new THREE.Vector3(392, -610, 25)
    new THREE.Vector3(487, -608, 61)
  ])
  tubeGeo = new THREE.TubeGeometry(path, 96, 3, 12, false, false)
  mesh = new THREE.Mesh(tubeGeo, new THREE.MeshLambertMaterial(emissive: 0xd7c447))
  scene.add mesh
  path = new THREE.SplineCurve3([
    new THREE.Vector3(-265, -529, 61)
    new THREE.Vector3(-197, -492, 134)
    new THREE.Vector3(-126, -447, 128)
    new THREE.Vector3(-29, -411, 119)
    new THREE.Vector3(-21, -369, 119)
    new THREE.Vector3(41, -310, 20)
    new THREE.Vector3(75, -307, 15)
    new THREE.Vector3(114, -362, 15)
    new THREE.Vector3(168, -374, 18)
    new THREE.Vector3(241, -387, 6)
    new THREE.Vector3(322, -391, 34)
    new THREE.Vector3(423, -349, 32)
    new THREE.Vector3(419, -298, 35)
    new THREE.Vector3(407, -219, 10)
  ])
  tubeGeo = new THREE.TubeGeometry(path, 96, 3, 12, false, false)
  mesh = new THREE.Mesh(tubeGeo, new THREE.MeshLambertMaterial(emissive: 0x9b7cb6))
  scene.add mesh
  path = new THREE.SplineCurve3([
    new THREE.Vector3(-138, 217, 29)
    new THREE.Vector3(-75, 185, 32)
    new THREE.Vector3(-55, 108, 36)
    new THREE.Vector3(-45, 41, 55)
    new THREE.Vector3(-17, -7, 118)
    new THREE.Vector3(8, -61, 135)
    new THREE.Vector3(52, -138, 127)
    new THREE.Vector3(77, -177, 116)
    new THREE.Vector3(40, -236, 30)
    new THREE.Vector3(-9, -272, 18)
    new THREE.Vector3(-51, -335, 81)
    new THREE.Vector3(-94, -367, 118)
    new THREE.Vector3(-29, -411, 119)
    new THREE.Vector3(-22, -441, 38)
    new THREE.Vector3(-37, -490, 66)
    new THREE.Vector3(-49, -555, 19)
    new THREE.Vector3(-66, -626, 42)
    new THREE.Vector3(-114, -656, 120)
    new THREE.Vector3(-178, -684, 121)
  ])
  tubeGeo = new THREE.TubeGeometry(path, 96, 3, 12, false, false)
  mesh = new THREE.Mesh(tubeGeo, new THREE.MeshLambertMaterial(emissive: 0x00ada9))
  scene.add mesh
  path = new THREE.SplineCurve3([
    new THREE.Vector3(-221, -94, 135)
    new THREE.Vector3(-182, -162, 118)
    new THREE.Vector3(-216, -234, 110)
    new THREE.Vector3(-225, -290, 125)
    new THREE.Vector3(-242, -338, 148)
    new THREE.Vector3(-238, -412, 103)
    new THREE.Vector3(-239, -472, 87)
    new THREE.Vector3(-256, -526, 72)
  ])
  tubeGeo = new THREE.TubeGeometry(path, 96, 3, 12, false, false)
  mesh = new THREE.Mesh(tubeGeo, new THREE.MeshLambertMaterial(emissive: 0xbb641d))
  scene.add mesh
  directionalLight = new THREE.DirectionalLight(0x333333)
  scene.add directionalLight
  renderer = new THREE.WebGLRenderer({antialias: true})
  renderer.setSize window.innerWidth, window.innerHeight
  document.body.appendChild renderer.domElement
  window.addEventListener('resize', onWindowResize, false)
  return
onWindowResize = ->
  renderer.setSize(window.innerWidth, window.innerHeight)
  camera.aspect = window.innerWidth / window.innerHeight
  camera.updateProjectionMatrix()
animate = ->
  requestAnimationFrame animate
  controls.update()
  return
render = ->
  renderer.render scene, camera
  return
init()
animate()
